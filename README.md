# Abituz

### Что это?
Заготовка агрегатора данных об абитуриентах вузов, находящихся в свободном доступе.

### Зачем это?
Узнать, что 15 человек, из-за которых ты на одну строчку ниже последнего бюджетного места, подали документы на ВМК и, возможно, уйдут туда.
Сравнить конкурсы на ФРТК и ФИВТ МФТИ.

### Что оно умеет?
Получать данные из некоего источника, хранить их и как-то показывать.
Например, можно посмотреть:
- `/`
- `/count`
- `/students`
- `/students/<name>`

### Как использовать?
Минимальное окружение:
```
$ python -m venv venv
$ source venv/bin/activate
(venv) $ pip install -r deploy/requirements.txt
(venv) $ export FLASK_APP=abituz.py
(venv) $ flask run
```
Переменные среды - см. `app/config.py`. Аргументы командной строки - см. `abituz.py`.

Также в `app/deploy` есть Dockerfile и пример конфига docker-compose.
Также есть готовый *толстый* docker-образ: [bcskda/abituz](https://hub.docker.com/r/bcskda/abituz/)

### Как обновить данные?
```
(venv) $ export FLASK_APP=abituz.py
(venv) $ flask ds_update
```

### Какие источники уже есть?
МЭИ.

### Как добавить источник?
Добавить модуль в `app/datasource/impl` и зарегистрировать в `app.datasource.enabled_sources`.
В качестве образца можно использовать `mpei`.
Всё, что нужно для источников, кажется, достаточно документировано в коде.

### РКН не накажет?
Не должен, т.к. все списки находятся в свободном доступе, но это не точно.
